(()=>{"use strict";var e,t,a,r,l={721:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{X:()=>e,i:()=>l});const e=await fetch("https://raw.githubusercontent.com/nexpid/VendettaThemeUtil/main/colors/200.0/RawColors.json").then((e=>e.json())),l=await fetch("https://raw.githubusercontent.com/nexpid/VendettaThemeUtil/main/colors/200.0/SemanticColors.json").then((e=>e.json()));r()}catch(e){r(e)}}),1)},708:(e,t,a)=>{a.a(e,(async(e,t)=>{try{var r=a(904),l=a(451),n=a(771),o=a(278),i=a(721),s=e([i]);function f({ctx:e,w:t,h:a},{ref:r}){e.save(),e.globalAlpha=r.alpha;try{e.drawImage(r.image,0,0,t,a)}catch{}e.restore()}i=(s.then?(await s)():s)[0];const h=new URLSearchParams(window.location.search).get("css");if(h){var c=document.createElement("link");c.setAttribute("href",h),c.setAttribute("type","text/css"),c.setAttribute("rel","stylesheet"),c.setAttribute("media","screen,print"),document.head.appendChild(c)}const g=document.createElement("canvas");function m(e){console.log("options",e);const[t,a]=[g.width,g.height],r=g.getContext("2d");let i=l=>l({ctx:r,w:t,h:a},e);r.clearRect(0,0,t,a),i(o.Z),i(n.Z),i(l.Z),e.ref?.image&&i(f)}g.width=(0,r.Z)(720)[0],g.height=(0,r.Z)(1466)[0],document.body.appendChild(g),window.setmessages=async()=>{};let d={getSColor:e=>{return t=e,"dark",i.i[t].colors.dark;var t},getRColor:e=>{return t=e,i.X[t];var t},getBackground:()=>{},messages:[],channel:{type:"GC",name:"hehe"}};window.options=d;let u={};async function w(e){return new Promise((t=>{if(!e)return t(null);if(u[e])return t(u[e]);let a=new Image;a.src=e,u[e]=a,a.onload=function(){return t(a)},a.onerror=function(){return t(null)}}))}(async()=>{for(const e of[new FontFace("gg-sans","url(assets/fonts/ggsans-Normal.ttf)",{style:"normal",weight:400}),new FontFace("gg-sans","url(assets/fonts/ggsans-Medium.ttf)",{style:"normal",weight:500}),new FontFace("gg-sans","url(assets/fonts/ggsans-Semibold.ttf)",{style:"normal",weight:600}),new FontFace("gg-sans","url(assets/fonts/ggsans-Bold.ttf)",{style:"normal",weight:700}),new FontFace("SourceCodePro","url(assets/fonts/SourceCodePro-Semibold.ttf)",{style:"normal",weight:500})])document.fonts.add(e),await e.load();window.targetFunction=async e=>{let t=e.getBackground(),a=await w(t?.url),r=await w(e.ref?.url);for(const t of e.messages)if(t.author?.avatarUrl&&(t.author.avatar=await w(t.author.avatarUrl)),t.referencedMessage?.author?.avatarUrl&&(t.referencedMessage.author.avatar=await w(t.referencedMessage.author.avatarUrl)),t.embeds?.length)for(const e of t.embeds)e.image?.url&&(e.image.image=await w(e.image.url)),e.thumbnail?.url&&(e.thumbnail.image=await w(e.thumbnail.url));m({...e,getBackground:()=>({...t,image:a}),ref:{...e.ref,image:r}})},m(d),window._isCanvasLoaded=!0,window._onLoadCallbacks.forEach((e=>e()))})(),t()}catch(C){t(C)}}))},278:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(904);function l(e){let t=257;if(e.image?.image){var a=Math.min(517/e.image.image.width,400/e.image.image.height);t+=e.image.image.height*a,t+=-110}return t}function n({ctx:e,w:t,h:a},{getSColor:n,getBackground:o,messages:i}){let s=n("BG_BASE_PRIMARY"),c=n("TEXT_NORMAL"),f=n("BACKGROUND_SECONDARY"),h=n("INTERACTIVE_ACTIVE"),g=n("TEXT_MUTED"),m=n("BACKGROUND_ACCENT"),d=n("ICON_SECONDARY");const u=(0,r.G)(e);e.fillStyle=s,e.fillRect(0,0,t,a);let w=o(),C=w?.image;if(C){e.save();let[t,a]=[720,1360];var p=Math.max(t/C.width,a/C.height),[y,b]=[C.width*p,C.height*p];w.blur&&(e.filter=`blur(${2.4*w.blur}px)`),u.drawImage(C,-(y-t)/2,106-(b-a)/2,y,b),e.restore()}e.save(),[...i].reverse().map((t=>{let[a,r]=[120,1289],o={text:{measure:e=>(u.setFont("500 30px gg-sans"),u.measureText(e.content).width),render:t=>{u.setFont("500 30px gg-sans"),e.fillStyle=c,e.fillText(t.content,a,r),a+=u.measureText(t.content).width}},inlineCode:{measure:e=>(u.setFont("500 25px SourceCodePro"),u.measureText(e.content).width),render:t=>{u.setFont("500 25px SourceCodePro");let l=u.measureText(t.content).width;e.fillStyle=f,u.fillRect(a,r-30,l,38),e.fillStyle=c,u.fillText(t.content,a,r),a+=u.measureText(t.content).width}},link:{measure:e=>e.content.map((e=>o[e.type].measure(e))).reduce(((e,t)=>e+t),0),render:e=>{let t=c;c=n("TEXT_LINK"),e.content.map((e=>o[e.type].render(e))),c=t}}},i=Math.floor(t.content.map((e=>o[e.type].measure(e))).reduce(((e,t)=>e+t),0)/690);u.translate(0,43*-i),t.embeds?.length&&console.log(t.embeds.map((e=>l(e)))),t.embeds?.length&&u.translate(0,-t.embeds.map((e=>l(e))).reduce(((e,t)=>e+t),0));let s=0;if(t.author?.avatarUrl){s+=70,e.save(),e.imageSmoothingQuality="high",e.beginPath(),u.arc(59.5,1255.5,37.5,0,2*Math.PI),e.closePath(),e.clip(),u.drawImage(t.author.avatar,22,1218,75,75),e.restore(),u.setFont("600 30.25px gg-sans"),e.fillStyle=t.colorString||h,u.fillText(t.author.name,120,1249);let a=e.measureText(t.author.name).width;u.setFont("500 22px gg-sans"),e.fillStyle=g,u.fillText(t.timestamp,a+120+16,1249)}if(s+=48,t.referencedMessage){s+=46,e.save(),e.fillStyle=m,e.strokeStyle=m,u.fillRect(58,1193,4,17),u.fillRect(66,1185,46,4),e.beginPath(),u.arc(66,1193,6,Math.PI/2*2,Math.PI/2*3),u.setLineWidth(4),e.stroke(),e.imageSmoothingQuality="high",e.beginPath(),u.arc(135,1187,15,0,2*Math.PI),e.closePath(),e.clip(),u.drawImage(t.referencedMessage.author.avatar,120,1172,30,30),e.restore(),e.fillStyle=t.colorString||h,u.fillText(t.referencedMessage.author.name,158,1195);let a=u.measureText(t.referencedMessage.author.name).width;e.fillStyle=d,u.setFont("500 22px gg-sans");for(const e of t.referencedMessage.content)u.fillText(e.content,a+167,1195)}function w(e,t=120,r=577){let l=e=>(a-t+o[e.type].measure(e))/r;if(l(e)<=1)return[e];if("string"==typeof e.content){if(l({...e,content:e.content[0]})>1)return[{...e,content:" "},e];let t={...e},a=0;for(;l(t)>1;)a++,t.content=t.content.slice(0,-1);return[t,...w({...e,content:e.content.slice(-a)})]}}for(const e of t.content)w(e).forEach((e=>{a>=690&&(a=120,r+=42),o[e.type].render(e)}));if(t.embeds?.length)for(const l of t.embeds){r+=24,e.beginPath(),u.roundRect(120,r,577,340,30),e.fillStyle=l.backgroundColor??n("BACKGROUND_SECONDARY"),e.fill(),e.save(),e.clip(),e.fillStyle=l.borderLeftColor??n("BACKGROUND_TERTIARY"),u.fillRect(120,r,8,340),e.restore(),a=150,r+=46;let t=l.thumbnail?.image?400:690;for(const e of l.title)w(e,120,t).forEach((e=>{a>=t&&(a=120,r+=42),o[e.type].render(e)}));if(l.image?.image){var C=Math.min(517/l.image.image.width,400/l.image.image.height);u.drawImage(l.image.image,150,r+74,l.image.image.width*C,l.image.image.height*C)}}e.translate(0,-s)})),e.restore()}},451:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(904);const l={call:["M11 5V3C16.515 3 21 7.486 21 13H19C19 8.589 15.411 5 11 5ZM17 13H15C15 10.795 13.206 9 11 9V7C14.309 7 17 9.691 17 13ZM11 11V13H13C13 11.896 12.105 11 11 11ZM14 16H18C18.553 16 19 16.447 19 17V21C19 21.553 18.553 22 18 22H13C6.925 22 2 17.075 2 11V6C2 5.447 2.448 5 3 5H7C7.553 5 8 5.447 8 6V10C8 10.553 7.553 11 7 11H6C6.063 14.938 9 18 13 18V17C13 16.447 13.447 16 14 16Z"],videocall:["M21.526 8.149C21.231 7.966 20.862 7.951 20.553 8.105L18 9.382V7C18 5.897 17.103 5 16 5H4C2.897 5 2 5.897 2 7V17C2 18.104 2.897 19 4 19H16C17.103 19 18 18.104 18 17V14.618L20.553 15.894C20.694 15.965 20.847 16 21 16C21.183 16 21.365 15.949 21.526 15.851C21.82 15.668 22 15.347 22 15V9C22 8.653 21.82 8.332 21.526 8.149Z"],members:["M14 8.00598C14 10.211 12.206 12.006 10 12.006C7.795 12.006 6 10.211 6 8.00598C6 5.80098 7.794 4.00598 10 4.00598C12.206 4.00598 14 5.80098 14 8.00598ZM2 19.006C2 15.473 5.29 13.006 10 13.006C14.711 13.006 18 15.473 18 19.006V20.006H2V19.006Z","M20.0001 20.006H22.0001V19.006C22.0001 16.4433 20.2697 14.4415 17.5213 13.5352C19.0621 14.9127 20.0001 16.8059 20.0001 19.006V20.006Z","M14.8834 11.9077C16.6657 11.5044 18.0001 9.9077 18.0001 8.00598C18.0001 5.96916 16.4693 4.28218 14.4971 4.0367C15.4322 5.09511 16.0001 6.48524 16.0001 8.00598C16.0001 9.44888 15.4889 10.7742 14.6378 11.8102C14.7203 11.8418 14.8022 11.8743 14.8834 11.9077Z"]},n=Object.keys(l).reduce(((e,t)=>({...e,[t]:{paths:l[t].map((e=>new Path2D(e))),fill:e=>n[t].paths.map((t=>e.fill(t)))}})),{}),o=n;function i({ctx:e,w:t,h:a},{getSColor:l,getRColor:n,pings:i,channel:s}){let c=l("BACKGROUND_MOBILE_SECONDARY"),f=l("INTERACTIVE_NORMAL"),h=l("CHANNEL_ICON"),g=l("BACKGROUND_TERTIARY"),m=l("BUTTON_OUTLINE_DANGER_BORDER"),d=n("WHITE_500"),u=l("HEADER_PRIMARY");e.save(),e.fillStyle=c,e.shadowColor=g,e.shadowBlur=0,e.shadowOffsetY=(0,r.Z)(1.5),e.fillRect(0,0,...(0,r.Z)(720,105)),e.restore(),e.fillStyle=f,e.fillRect(...(0,r.Z)(37,42,33,4)),e.fillRect(...(0,r.Z)(37,51.5,33,4)),e.fillRect(...(0,r.Z)(37,61,33,4)),i&&(e.fillStyle=c,e.beginPath(),e.arc(...(0,r.Z)(78,65,21),0,2*Math.PI),e.fill(),e.fillStyle=m,e.beginPath(),e.arc(...(0,r.Z)(78,65,15),0,2*Math.PI),e.fill(),e.save(),e.font=`bold ${(0,r.Z)(23)}px gg-sans`,e.fillStyle=d,e.textAlign="center",e.fillText(i,...(0,r.Z)(78,73)),e.restore()),e.save(),e.fillStyle=h,e.translate(...(0,r.Z)(120,37)),e.scale(...(0,r.Z)(1.4,1.4)),o.members.fill(e),e.restore(),e.save(),e.font=`600 ${(0,r.Z)(31)}px gg-sans`,e.fillStyle=u,e.fillText(s.name,...(0,r.Z)(169,67)),e.restore(),e.save(),e.fillStyle=f,e.translate(...(0,r.Z)(477,30)),e.scale(...(0,r.Z)(1.9,1.9)),o.call.fill(e),e.translate(43,0),o.videocall.fill(e),e.translate(44,0),o.members.fill(e),e.restore()}},771:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(904);function l({ctx:e,w:t,h:a},{getSColor:l,channel:n}){let o=l("BG_BASE_PRIMARY"),i=l("INPUT_BACKGROUND"),s=l("REDESIGN_BUTTON_SECONDARY_ALT_BACKGROUND"),c=l("REDESIGN_CHAT_INPUT_BACKGROUND"),f=l("INTERACTIVE_NORMAL"),h=l("REDESIGN_BUTTON_SECONDARY_ALT_TEXT"),g=l("TEXT_MUTED");e.save(),e.shadowColor=i,e.shadowBlur=0,e.shadowOffsetY=(0,r.Z)(-1.5),e.fillStyle=o,e.fillRect(0,(0,r.Z)(1359)[0],t,a-(0,r.Z)(1360)),e.restore(),e.save(),e.fillStyle=c,e.beginPath(),e.roundRect(...(0,r.Z)(105,1372.5,510,75.6,40)),e.fill(),e.fillStyle=s,e.beginPath(),e.arc(...(0,r.Z)(53.5,1410.5,37.4),0,2*Math.PI),e.fill(),e.beginPath(),e.arc(...(0,r.Z)(668.5,1410.5,37.4),0,2*Math.PI),e.fill(),e.font=`${(0,r.Z)(30)}px gg-sans`,e.fillStyle=g;let m="Message ";m+="GC"===n.type?"":"DM"===n.type?"@":"#",m+=n.name,e.fillText(m,...(0,r.Z)(131,1422)),e.fillStyle=h,e.fillRect(...(0,r.Z)(40,1409,27,3)),e.fillRect(...(0,r.Z)(52,1397,3,27)),e.beginPath(),e.arc(...(0,r.Z)(668.5,1410.6,11),0,1*Math.PI),e.lineWidth=(0,r.Z)(3.5)[0],e.strokeStyle=h,e.stroke(),e.fillRect(...(0,r.Z)(666.5,1420,4,9)),e.beginPath(),e.roundRect(...(0,r.Z)(663,1394,11,23,100)),e.fill(),e.fillStyle=f,e.beginPath(),e.arc(...(0,r.Z)(576.5,1410.5,19),0,2*Math.PI),e.fill(),e.fillStyle=c,e.beginPath(),e.arc(...(0,r.Z)(569,1403,3.6),0,2*Math.PI),e.fill(),e.beginPath(),e.arc(...(0,r.Z)(584,1403,3.6),0,2*Math.PI),e.fill(),e.beginPath(),e.arc(...(0,r.Z)(576.5,1412.5,11),0,1*Math.PI),e.fill(),e.restore()}},904:(e,t,a)=>{a.d(t,{G:()=>n,Z:()=>l});const r=1;function l(...e){return e.map((e=>e*r))}function n(e){return{fillRect:(...t)=>e.fillRect(...l(...t)),roundRect:(...t)=>e.roundRect(...l(...t)),fillText:(t,...a)=>e.fillText(t,...l(...a)),setFont:t=>e.font=t.split(" ").map((e=>e.endsWith("px")?parseFloat(e)*r+"px":e)).join(" "),measureText:t=>({...e.measureText(t),width:e.measureText(t).width/r}),arc:(t,a,r,...n)=>e.arc(...l(t,a,r),...n),drawImage:(t,...a)=>e.drawImage(t,...l(...a)),translate:(...t)=>e.translate(...l(...t)),setLineWidth:t=>e.lineWidth=t*r}}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return l[e](a,a.exports,o),a.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},o.a=(l,n,o)=>{var i;o&&((i=[]).d=-1);var s,c,f,h=new Set,g=l.exports,m=new Promise(((e,t)=>{f=t,c=e}));m[t]=g,m[e]=e=>(i&&e(i),h.forEach(e),m.catch((e=>{}))),l.exports=m,n((l=>{var n;s=(l=>l.map((l=>{if(null!==l&&"object"==typeof l){if(l[e])return l;if(l.then){var n=[];n.d=0,l.then((e=>{o[t]=e,r(n)}),(e=>{o[a]=e,r(n)}));var o={};return o[e]=e=>e(n),o}}var i={};return i[e]=e=>{},i[t]=l,i})))(l);var o=()=>s.map((e=>{if(e[a])throw e[a];return e[t]})),c=new Promise((t=>{(n=()=>t(o)).r=0;var a=e=>e!==i&&!h.has(e)&&(h.add(e),e&&!e.d&&(n.r++,e.push(n)));s.map((t=>t[e](a)))}));return n.r?c:o()}),(e=>(e?f(m[a]=e):c(g),r(i)))),i&&i.d<0&&(i.d=0)},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(708)})();